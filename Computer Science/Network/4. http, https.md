# HTTP

## HTTP란?

애플리케이션 계층의 프로토콜로 TCP 혹은 암호화된 TCP 연결인 TLS를 통해 전송된다
HTML 문서와 같은 리소스들을 가져올 수 있도록 해주는 프로토콜로 **_클라이언트-서버 프로토콜_**이다

> 클라이언트-서버 프로토콜이란
> 수신자 측에 의해 요청이 초기화되는 프로토콜

## HTTP 특징

- Stateless Protocol(무상태 프로토콜)
  클라이언트와 서버 간의 통신이 각각 별개의 요청-응답 사이클로 이루어지며 이전 요청과 다음 요청 간의 상태를 유지하지 않는다

- Connectionless Protocol(비연결성 프로토콜)
  클라이언트와 서버 간의 각각의 요청-응답 사이에 연결을 유지하지 않는다
  클라이언트가 요청을 보내면 서버는 이에 대한 응답을 보내고, 클라이언트와 서버 간의 연결을 끊는다

- 텍스트 기반 프로토콜
  기본적으로 텍스트 기반으로 동작한다
  요청과 응답에는 ASCII 문자열이 사용되며 이를 통해 HTML, CSS, JavaScript, 이미지 등의 리소스를 전송한다

- 메서드(method) 기반 프로토콜
  GET, POST, PUT, DELETE 등 다양한 메서드를 제공한다

- 지속적인 연결(Persistent Connection) 지원
  HTTP/1.1 이후 버전에서는 지속적인 연결(Persistent Connection)을 지원한다
  => 한 번의 연결로 여러 요청과 응답을 주고받을 수 있어 불필요한 연결 수립/해제 시간을 절약할 수 있다

- 캐싱 기능
  클라이언트는 이전에 요청한 리소스를 캐시에 저장하고 이후에 같은 리소스를 요청할 때는 서버에서 다시 전송받지 않고 캐시에서 바로 가져올 수 있다
  => 네트워크 대역폭을 절약

## HTTP 2.0의 등장 배경

- HTTP/1.1

  - 한 번에 하나의 요청과 응답만 처리 가능
  - 여러 개의 리소스를 로드할 때 다수의 TCP 연결 사용
  - 네트워크 비용이 큰 비효율 초래
  - 텍스트 기반 프로토콜로 헤더 정보가 반복, 대역폭 낭비 야기

- HTTP/2.0
  - 하나의 연결로 여러 요청과 응답 처리 가능
  - 요청/응답을 압축하여 대역폭 절약
  - 이진 프로토콜로 헤더 압축
  - 서버 푸시 기능을 제공, 웹 페이지 로드 시간 감소

=> HTTP/1.1에 비해 빠른 속도와 효율성, 로딩 속도 개선

## HTTP 1.0의 HTTP 2.0차이

- 성능

  - HTTP/2.0 이전 버전에서는 하나의 요청에 하나의 응답만 가능하지만 HTTP/2.0에서는 하나의 연결로 여러 요청과 응답을 처리 가능
    => 빠른 페이지 로딩과 전송 시간 개선더 빠른 페이지 로드와 전송 시간을 얻을 수 있습니다.

- 이진 프로토콜

  - HTTP/1.0은 텍스트 기반 프로토콜, HTTP/2.0은 이진 프로토콜
  - 이진 프로토콜은 더 작은 크기의 패킷으로 데이터를 전송 가능
    => 속도 개선, 효율성을 제공

- 서버 푸시

  - HTTP/2.0은 서버가 클라이언트의 요청 없이 리소스를 클라이언트에게 전송 가능
    => 빠른 페이지 로딩과 네트워크 속도 개선

- 헤더 압축
  - 네트워크 지연 문제를 해결하기 위해 도입
  - HTTP/1.0은 헤더 정보를 반복해서 전송, HTTP/2.0은 헤더 정보를 압축해서 한 번에 전송 가능
    => 적은 대역폭을 사용, 속도 개선

## HTTPS란?

HTTP 프로토콜에 SSL(Secure Sockets Layer) 또는 TLS(Transport Layer Security) 프로토콜을 추가한 것으로
인터넷에서 데이터를 안전하게 전송하기 위한 프로토콜

HTTP 프로토콜은 데이터를 암호화하지 않고 평문으로 전송하기 때문에 중간에 누군가가 데이터를 가로챌 수 있고 중간에서 조작할 수도 있다
이러한 보안 문제를 해결하기 위해 HTTPS가 도입

HTTPS는 클라이언트와 서버 간의 통신을 암호화하고 인증하는 데 사용된다
HTTPS는 SSL 또는 TLS 프로토콜을 사용하여 데이터를 암호화하고 SSL 인증서를 사용하여 서버의 신원을 확인한다

=> 중간에서 데이터를 가로채거나 조작하는 것을 방지하고, 안전한 통신 보장

## HTTPS의 통신 흐름

HTTPS 프로토콜은 HTTP 프로토콜을 기반으로 데이터 전송 중에 SSL 또는 TLS암호화 프로토콜을 사용하여 보안성을 강화한다

1. 클라이언트가 HTTPS로 통신하고자 하는 서버의 도메인 이름을 입력하고 요청을 보냄
2. 서버는 클라이언트에게 공개키를 전달
3. 클라이언트는 서버의 공개키를 사용하여 세션키를 생성, 서버로 전송
4. 서버는 자신의 비밀키를 사용하여 세션키를 복호화하고 데이터를 암호화함
5. 클라이언트는 암호화된 데이터를 자신의 세션키를 사용하여 복호화, 데이터를 읽거나 서버에게 전송

위의 과정에서 공개키와 비밀키는 서로 대칭성을 갖는다
공개키로 암호화된 데이터는 오직 비밀키로만 복호화할 수 있으며 비밀키로 암호화된 데이터는 오직 공개키로만 복호화할 수 있다
공개키와 비밀키를 사용하여 데이터를 암호화하고 복호화하기 때문에 HTTPS는 안전한 통신을 제공한다

## HTTP와 HTTPS 차이

- 인터넷에서 데이터를 주고 받을 때 사용되는 프로토콜이지만 데이터의 보안성에 대한 접근 방식에 차이가 있다
- HTTP는 웹사이트와 브라우저 사이에서 데이터를 주고받을 때 사용되며 데이터가 암호화되지 않은 상태로 전송된다
  중간에서 데이터를 가로채고 변조할 가능성이 높다
- HTTPS는 데이터 전송할 때 SSL 또는 TLS 암호화 프로토콜을 사용하여 보안성을 강화
  HTTPS를 사용하면 데이터 전송 중에 암호화가 되므로 중간에서 데이터를 가로채고 읽거나 변조하는 것이 어렵기 때문에 안전한 통신을 보장
