# 중앙처리장치(CPU) 작동 원리
## CPU의 구성
### 연산 장치 (Arithmetic and Logic Unit: ALU)
- 산술연산과 논리 연산을 수행
- 연산에 필요한 데이터를 레지스터에서 가져오고 연산결과를 다시 레지스터에 보냄

### 제어 장치 (Control Unit)
- 프로그램에 의해 주어지는 연산의 순서를 차례대로 실행하기 위해 기억장치, 연산장치, 입출력 장치에 제어신호를 보냄
- 이들 장치로부터 신호를 받아 다음에 처리할 작업들을 제어하는 역할
- 명령어를 해독(decode)하여 제어 장치 내의 명령어 레지스터에 저장하는 장치
- 명령어 레지스터에 기억된 명령어에 따라 명령어를 실행하는 명령어 실행 단계

### 레지스터 (register)
- 명령어 주소, 코드, 연산에 필요한 데이터, 연산 결과 등을 임시로 저장
- 여러 개의 비트로 이루어진 기억장치나 회로로서 지정된 목적에 사용되고 수시로 그 내용물을 이용할 수 있음
명령어 주소, 코드, 연산에 필요한 데이터, 연산 결과 등을 임시로 저장
- 용도에 따라 범용 레지스터와 특수목적 레지스터로 구분됨
- 중앙처리장치 종류에 따라 사용할 수 있는 레지스터 개수와 크기가 다름
    - 범용 레지스터 : 연산에 필요한 데이터나 연산 결과를 임시로 저장
    - 특수목적 레지스터 : 특별한 용도로 사용하는 레지스터

## CPU 내부 레지스터
- 프로그램 카운터 (Program Counter: PC)
  : 다음에 인출할 명령어의 주소를 가지고 있는 레지스터
- 누산기 (Accumulator: AC)
  : 데이터를 일시적으로 저장하는 레지스터
- 명령어 레지스터 (Instruction Register: IR)
  : 가장 최근에 인출된 명령어 코드가 저장되어 있는 레지스터
- 기억장치 주소 레지스터 (Memory Address Register: MAR)
  : PC에 저장된 명령어 주소가 시스템 주소 버스로 출력되기 전에 일시적으로 저장되는 주소 레지스터
- 기억장치 버퍼 레지스터(Memory Buffer Register: MBR) :
  : 기억장치에 쓰여질 데이터 혹은 기억장치로부터 읽혀진 데이터를 일시적으로 저장하는 버퍼 레지스터
- 산술 논리 연산장치(Arithmetic and Logical Unit: ALU) : 산술연산과 논리연산 수행

## CPU의 동작 과정
<img src ="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fk.kakaocdn.net%2Fdn%2FbR4acg%2FbtqDeI3aSlc%2FmyhGxfJjd6Cr2mco2Mc3hK%2Fimg.jpg">

1. 주기억장치는 입력장치에서 입력받은 데이터 또는 보조기억장치에 저장된 프로그램 읽어옴
2. CPU는 프로그램을 실행하기 위해 주기억장치에 저장된 프로그램 명령어와 데이터를 읽어와 처리하고 결과를 다시 주기억장치에 저장
3. 주기억장치는 처리 결과를 보조기억장치에 저장하거나 출력장치로 보냄
4. 제어장치는 1~3 과정에서 명령어가 순서대로 실행되도록 각 장치를 제어

## 명령어 세트(instruction set)란?
어떤 한 CPU를 위해 정의되어 있는 명령어들의 집합
명령어 세트를 설계하기 위해서는 다음과 같은 사항들을 먼저 결정해야 한다.

- 연산 종류(operation repertoire):CPU가 수행할 연산들의 수와 종류 및 복잡도
- 데이터 형태(data type):데이터의 길이(비트 수), 수의 표현 방식(정수, 부동소수점 등)
- 명령어 형식(instruction format):명령어의 길이, 오퍼랜드 필드들의 개수와 길이 등
- 주소지정 방식(addressing mode):오퍼랜드의 주소를 지정하는 방식
