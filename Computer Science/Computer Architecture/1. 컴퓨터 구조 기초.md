##  Microprocessor

###  CPU (Central Processing Unit, 중앙처리장치)
기억/해석/연산/제어의 기능을 하는 중앙 처리 장치이다.
컴퓨터가 동작하는 데 필요한 모든 계산을 처리하고 컴퓨터 전체의 동작을 제어한다.
용도에 따라 분류하면 MPU(MicroProcessor Unit), MCU(Micro Controller Unit)로 분류된다


- MPU(Micro Processor Unit)는 컴퓨터의 핵심 기능인 기계어를 해석하고, 연산을 수행하는 기능만 가지고 있는 프로세서
- MCU(Micro Controller Unit)는 CPU의 기능을 하는 핵심 장치와 그 주변 장치들을 포함하고 있는 통합형 칩셋,

###  Cache
CPU와 주기억장치의 속도 차이로 인한 CPU 대기 시간을 최소화 시키기 위하여 CPU와 주기억장치 사이에 설치하는 고속 반도체 기억장치

###  Memory Bus
버스는 컴퓨터 안의 부품들 간에, 또는 컴퓨터 간에 데이터와 정보를 전송하는 통로이다.
메모리와 다른 장치를 이어주는 통로는 메모리 버스(memory bus)라고 한다.

###  Memory
CPU가 프로그램을 실행하거나 데이터를 참조하기 위해 필요한 정보를 저장하는 공간

### 캐시 메모리가 없는 시스템인 경우
CPU가 명령어와 데이터를 인출하기 위해 메모리에 접근한 뒤,
메모리에서 명령어와 데이터를 획득
중앙 처리 장치 내 레지스터에 저장한다.

### 캐시 메모리가 있는 시스템인 경우
CPU가 명령어와 데이터 인출을 위해 캐시 메모리에 먼저 접근한다.
CPU가 찾으려고 하는 데이터를 캐시 메모리에 있으면 적중(hit), 찾지 못하면 실패(miss)라고 한다.

적중 시에는 메모리에 방문하지 않고 캐시 메모리의 정보를 CPU에 전송한다.
실패 시에는 메모리에 방문하여 캐시 메모리에 저장하고 정보를 가져오게 된다.
캐시에 저장하는 이유는 나중에도 다시 사용할 수 있기 때문이다.

## Virtual Memory (Memory Management)
실제 메모리 크기와 상관 없이 메모리를 이용할 수 있도록 가상의 메모리 주소를 사용하는 방법이다
여러 프로세스를 실행할 때 시스템은 메모리 용량 부족이슈, 프로세스 메모리 영약 간 침범 이슈로 메모리 크기의 한계를 갖는다.

이를 극복하기 위해 한정된 메모리에서 여러 프로세스를 실행시킬 수 있도록 가상 메모리를 활용한다.
가상 메모리의 프로세스는 가상 주소를 사용하고, 데이터를 사용(읽기/쓰기)할 때 물리(실제) 주소로 변환하주면 된다.

### 가상 메모리의 이점
- 실제 메모리(RAM) 크기 보다 더 큰 공간을 사용할 수 있다. (보조 기억장치 공간 사용)
- 가상의 주소 공간을 사용하여 논리적인 연속성을 제공해준다.
- 물리 메모리 주소 공간을 알 필요가 없어진다.

### virtual address(가상 주소)
CPU에 의해 프로그램이 실행되고 있을 때 만들어진다.
물리적으로 존재하는 주소가 아니라 개념적으로 존재하는 주소이다.
PU에 위치한 메모리의 물리적 주소를 가르킨다.

### physical address(물리 주소)
메모리 상의 물리적인 주소를 의미한다.

### MMU (Memory Management Unit)
CPU에 코드 실행시, 가상 주소 메모리 접근이 필요할 때, 해당 주소를 물리 주소 값으로 변환해주는 하드웨어 장치
즉, CPU는 가상 메모리를 다루고, 가상 메모리의 가상 주소에 접근시 MMU하드웨어를 통해 물리 주소로 변환되어 물리 메모리에 접근한다.

### 가상 메모리와 MMU의 관계
CPU는 가상 메모리 주소를 다루고, 실제 해당 주소 접근 시 MMU 하드웨어 장치를 통해 물리 메모리에 접근한다.
하드웨어 장치를 이용해야 주소 변환이 빠르기 때문에 MMU라는 별도의 장치를 두고 있는 것이다.

### 어떻게 가상주소를 물리 주소로 변환하는가?
### two-level paging

page table의 entry 정보를 가지고 있는 page table을 하나 더 만드는 기법이다.
기존 paging기법은 하나의 page table을 사용하여 논리적 주소를 물리적 주소로 변환하여 메모리에 접근하는 방식에 비해 2개의 page table을 사용하여 2번의 변환을 거쳐 접근한다.
2개의 page table을 사용한 이유는 공간의 낭비를 줄이기 위해 사용한다.

기존의 paging기법에서는 프로세스가 가상 메모리의 공간을 전부 사용하지 않아도 page로 나누어진다.
즉, 사용하지 않는 공간(빈 공간)이 page로 나뉘어지고 이 부분도 page table에 저장된다.
two-level page table을 사용하면 공간을 사용하지 않는 부분은 page table이 생기지 않기 때문에 공간의 낭비를 줄일 수 있는 것이다.

### Translation Lookaside Buffer, TLB

가상 메모리 주소를 물리적인 주소로 변환하는 속도를 높이기 위해 사용되는 캐시이다.

페이지 테이블이 물리 기억장치(주기억장치) 상에 존재하기 때문에, 메모리를 액세스 할 때마다 한 번은 물리 기억장치의 페이지 테이블을 다른 한 번은 가상 기억장치에 필요한 데이터를 총 두 번을 액세스 해야 하기 때문에 액세스 시간을 길어지게 만드는 단점이 발생한다.
이 문제를 해결하기 위해 프로세서에 내장된 캐시의 일종인 TLB(변환 우선참조 버퍼)를 사용한다.